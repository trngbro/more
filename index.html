<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Redirecting...</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
			padding: 50px;
		}
		h1 {
			margin-top: 0;
		}
	</style>
</head>
<body>
	<h1>Redirecting...</h1>

	<script>
		// Get URL parameter
		const urlParams = new URLSearchParams(window.location.search);
		const folderName = urlParams.get('redirect');

		// Redirect to URL
		if(folderName) {
            setTimeout(function() {
              window.location.replace(`./${folderName}/`);
            }, 2000);
		}
	</script>

	<script>
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'data.json', true);
		xhr.onload = function() {
			if (xhr.status === 200) {
				var data = JSON.parse(xhr.responseText);
				var cursor = new URLSearchParams(window.location.search).get('cursor');
				var url = data.find(function(item) {
					return item.id === cursor;
				}).url;
				// Redirect to the URL
				window.location.href = url;
				console.log('Success to redirect');
			} else {
				console.log('Failed to load JSON data');
			}
		};
		xhr.send();
	</script>
</body>
</html>
